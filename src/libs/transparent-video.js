(function(){const A=document.createElement("link").relList;if(A&&A.supports&&A.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function i(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(e){if(e.ep)return;e.ep=!0;const o=i(e);fetch(e.href,o)}})();const n=(function(){try{const r=document.createElement("canvas");return!!(r.getContext("webgl")||r.getContext("experimental-webgl"))}catch{return!1}})(),u="GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAVUEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHWTbuMU6uEElTDZ1OsggMZTbuMU6uEHFO7a1OsggU+7AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmsCrXsYMPQkBNgIxMYXZmNjEuNy4xMDBXQYxMYXZmNjEuNy4xMDBEiYhAgKgAAAAAABZUrmtCPa4BAAAAAAACNNeBAXPFiP0Nzv5q7EqqnIEAIrWcg3VuZIiBAIaFVl9BVjGDgQEj44OEAfygVeCUsIEQuoEQmoECVbCIVbGBAFW5gQJjopKBIAAACgwgAAABn/m18kBDQAjsAQAAAAAAAdMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABJUw2dAf3Nzn2PAgGfImUWjh0VOQ09ERVJEh4xMYXZmNjEuNy4xMDBzc9pjwItjxYj9Dc7+auxKqmfIpUWjh0VOQ09ERVJEh5hMYXZjNjEuMTkuMTAxIGxpYmFvbS1hdjFnyKFFo4hEVVJBVElPTkSHkzAwOjAwOjAwLjUzMzAwMDAwMAAfQ7Z1QZrngQCjqYEAAIAKDCAAAAGf+bXyQENACDIVEAC/gAACQAAAAKmMv60sasrJvEUWo5eBACEAMhEwA8CAAABGtYAAAkAAIAB2kKOXgQBDADIRMAQBBAAARrcAAAJAACAAdUCjl4EAZAAyETAGAgiAAEa4AAACQAAgAHOAo5aBAIUAMhAwCAQNEABGuYAAAkAAIABzo5aBAKcAMhAwCggRoEBGu4AAAkAAIABxo5aBAMgAMhAwDBAWMIhGvQAAAkAAIABuo5aBAOkAMhAwDiAawNFGvoAAAkAAIABuo5eBAQsAMhEwEcCfURoG5AAAAsAAIAB5kKOWgQEsADIQMBIBH1IjBsKAAAKAACAAbKOWgQFNADIQMBQCC+IsBsUAAAKAACAAbKOWgQFvADIQMBYEDXI1BsgAAAKAACAAaKOWgQGQADIQMBgIEaI+BsuAAAKAACAAaKOWgQGxADIQMBoQFjIXBtCAAAKAACAAaKOWgQHTADIQMBwgGsIaBteAAAKAACAAaKOWgQH0ADIQMB4BH1IjBuQAAALAACAAcBxTu2uRu4+zgQC3iveBAfGCA57wgQM=";let s=!1,d=!1;const l=[],c=r=>{s=!0,d=r,l.forEach(A=>{A&&A(d)})},h=document.createElement("video"),v=setTimeout(()=>{h.oncanplay=null,console.log("AV1 video test timeout: false"),s=!0,c(!1)},350);h.oncanplay=()=>{clearTimeout(v),console.log("AV1 video test completed: true"),s=!0,c(!0)};h.src="data:video/webm;base64,"+u;function _(r){s?r(d):l.push(r)}_();class g{constructor(A){if(this.container=A,this.container.appendChild(document.createComment(" Transparent Video Player | Â© Praxis Group ")),!n){this.hasWebGL=!1,this.container.classList.add("_no-webgl");return}this._shadowRoot=this.container.attachShadow({mode:"closed"}),this._styleElement=document.createElement("style"),this._styleElement.textContent=`
            video {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                opacity: 0;
                pointer-events: none;
            }

            canvas {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                object-fit: contain;
                background-color: transparent;
            }
        `,this._shadowRoot.appendChild(this._styleElement)}setSources(A,i,t){this.readyHandler=t,_(e=>{n&&this._initWebGL(e?A:i)})}_initFallback(A){console.log("MaskVideoPair: _initFallback"),this._video=document.createElement("video"),this._video.muted=!0,this._video.playsInline=!0,this._video.disablePictureInPicture=!0,this._video.controls=!1,this._video.preload="auto",this._video.style.opacity="1",this._shadowRoot.appendChild(this._video),this._video.addEventListener("loadedmetadata",()=>{this.readyHandler&&this.readyHandler(this.video)}),this._video.src=A}_initWebGL(A){n&&(console.log("MaskVideoPair: _initWebGL ["+A+"]"),this._cleanup(),this._video=document.createElement("video"),this._video.muted=!0,this._video.playsInline=!0,this._video.disablePictureInPicture=!0,this._video.controls=!1,this._video.preload="auto",this._shadowRoot.appendChild(this._video),this._canvas=document.createElement("canvas"),this._canvas.style.display="block",this._canvas.style.width="100%",this._canvas.style.height="100%",this._shadowRoot.appendChild(this._canvas),this._gl=this._canvas.getContext("webgl"),this._video.src=A,this._initWebGLResources(),this._video.addEventListener("loadedmetadata",()=>{this._updateCanvasSize(),this._setupTextures(),this.readyHandler&&this.readyHandler(this.video)}),this._video.load(),this._render())}_initWebGLResources(){const A=this._gl,i=`
        attribute vec2 a_position;
        attribute vec2 a_texCoord;
        varying vec2 v_texCoord;
        void main() {
          gl_Position = vec4(a_position, 0.0, 1.0);
          v_texCoord = a_texCoord;
        }
      `,t=`
        precision mediump float;
        uniform sampler2D u_video;
        varying vec2 v_texCoord;

        void main() {
          vec2 videoCoords = vec2(v_texCoord.x, v_texCoord.y * 0.5);
          vec2 maskCoords = vec2(v_texCoord.x, v_texCoord.y * 0.5 + 0.5);

          vec4 videoColor = texture2D(u_video, videoCoords);
          vec4 maskColor = texture2D(u_video, maskCoords);

          float alpha = maskColor.r;

          gl_FragColor = vec4(videoColor.rgb, alpha);
        }
      `,e=this._createShader(A.VERTEX_SHADER,i),o=this._createShader(A.FRAGMENT_SHADER,t);this._shaderProgram=this._createProgram(e,o),this._positionBuffer=A.createBuffer(),A.bindBuffer(A.ARRAY_BUFFER,this._positionBuffer),A.bufferData(A.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),A.STATIC_DRAW),this._texCoordBuffer=A.createBuffer(),A.bindBuffer(A.ARRAY_BUFFER,this._texCoordBuffer),A.bufferData(A.ARRAY_BUFFER,new Float32Array([0,1,1,1,0,0,0,0,1,1,1,0]),A.STATIC_DRAW),A.enable(A.BLEND),A.blendFunc(A.SRC_ALPHA,A.ONE_MINUS_SRC_ALPHA)}_createShader(A,i){const t=this._gl,e=t.createShader(A);return t.shaderSource(e,i),t.compileShader(e),t.getShaderParameter(e,t.COMPILE_STATUS)?e:(console.error("Shader compilation error:",t.getShaderInfoLog(e)),t.deleteShader(e),null)}_createProgram(A,i){const t=this._gl,e=t.createProgram();return t.attachShader(e,A),t.attachShader(e,i),t.linkProgram(e),t.getProgramParameter(e,t.LINK_STATUS)?e:(console.error("Program linking error:",t.getProgramInfoLog(e)),t.deleteProgram(e),null)}_updateCanvasSize(){if(!this._canvas||!this._video)return;const A=this._video.videoWidth||640,i=this._video.videoHeight/2||360;this._canvas.width=A,this._canvas.height=i,this._gl.viewport(0,0,this._canvas.width,this._canvas.height)}_setupTextures(){if(!this._gl||!this._video)return;const A=this._gl;this._videoTexture=A.createTexture(),A.bindTexture(A.TEXTURE_2D,this._videoTexture),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_S,A.CLAMP_TO_EDGE),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_T,A.CLAMP_TO_EDGE),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,A.LINEAR),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,A.LINEAR)}_updateTextures(){if(!this._gl||!this._video||!this._videoTexture)return;const A=this._gl;A.bindTexture(A.TEXTURE_2D,this._videoTexture),A.texImage2D(A.TEXTURE_2D,0,A.RGBA,A.RGBA,A.UNSIGNED_BYTE,this._video)}_render(){if(this._gl){if(this._video.readyState>=2&&this._renderedCT!==this._video.currentTime){this._renderedCT=this._video.currentTime,this._updateTextures();const A=this._gl,i=this._shaderProgram;A.useProgram(i),A.bindBuffer(A.ARRAY_BUFFER,this._positionBuffer);const t=A.getAttribLocation(i,"a_position");A.enableVertexAttribArray(t),A.vertexAttribPointer(t,2,A.FLOAT,!1,0,0),A.bindBuffer(A.ARRAY_BUFFER,this._texCoordBuffer);const e=A.getAttribLocation(i,"a_texCoord");A.enableVertexAttribArray(e),A.vertexAttribPointer(e,2,A.FLOAT,!1,0,0),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,this._videoTexture),A.uniform1i(A.getUniformLocation(i,"u_video"),0),A.clearColor(0,0,0,0),A.clear(A.COLOR_BUFFER_BIT),A.drawArrays(A.TRIANGLES,0,6)}this.animationFrame=requestAnimationFrame(()=>this._render())}}_cleanup(){this._animationFrame&&(cancelAnimationFrame(this._animationFrame),this._animationFrame=null),this._gl&&this._videoTexture&&(this._gl.deleteTexture(this._videoTexture),this._videoTexture=null),this._gl&&this._positionBuffer&&(this._gl.deleteBuffer(this._positionBuffer),this._positionBuffer=null),this._gl&&this._texCoordBuffer&&(this._gl.deleteBuffer(this._texCoordBuffer),this._texCoordBuffer=null),this._gl&&this._shaderProgram&&(this._gl.deleteProgram(this._shaderProgram),this._shaderProgram=null),this._canvas&&this._canvas.parentNode&&this._canvas.parentNode.removeChild(this._canvas),this._video&&this._video.parentNode&&this._video.parentNode.removeChild(this._video),this._video=null,this._canvas=null,this._gl=null,this._renderedCT=-1}get video(){return this._video}get canvas(){return this._canvas}}window.instance=new g(document.querySelector(".js-video-container"));window.instance.setSources("/video/header_construction_1.webm","/video/header_construction_4.mp4",r=>{r.play();const i=1/30;r.addEventListener("ended",()=>{r.currentTime=90*i,r.play()})});
